# contact-management
A contact manager application! 
This project is a contact manager backend application. Following REST API conventions, the project covers CRUD (create, read, update, and delete) functionality for contacts and users. 
Similarly, the application will allow for multiple users that are able to manage their own contacts. 
#### Main Features
The application will utilize the following:
* Node.js: server-side tool to execute JavaScript code
* Express: a micro-framework to streamline server development
* MongoDB: an open source NoSQL database management system 
* JWT: (JSON Web Token); an encrypted string that is generated by the server and stored by the client

We will also be working with HTTP methods and Endpoints.

## Table of Contents
[Project Overview/Description](#top)

[Table of Contents](#table)

[Installation](#intall)

[Usage](#use)

[Configuration](#configure)

[API Documentation](#document)

[License](#license)

[Authors](#author)

[Acknowledgments](#ack)

## Installation
Let's start by installing Node.js! You can install the proper Node.js version for your operating system [at the Node.js website](https://nodejs.org/en "Node.js website!")
Now that we have Node.js installed, next up is our development environment, or a code/text editor. 
> Note: For the sake of simplicity and having everything in one place, using Visual Studio Code (VSCode) is *recommended* but NOT required. 

> The project assumes the usage of VSCode and will subsequently utilize extensions. Again, using VSCode is strictly **optional** but *recommended*. It is absolutely possible to complete the project without the use of VSCode. 

To start your Node.js project, open up a terminal and navigate to the directory where you wish to keep the project, and type: `npm init`. The terminal will prompt you for setup specifications, and will initialize your node project. 
Node is framework that is able to run JavaScript code, while *npm* stands for *node package manager*. Using npm, we are able to install and remove JavaScript packages, also known as **node modules**. 
With the node package manager, we are able to use node modules in our project with just one command in the terminal. Let's move on to dependencies and packages we will be using in this project. 
#### Dependencies
> Note: npm allows truncating the `install` keyword in the package installation commands, so `install` can be substituted to `i`.
- `bcrypt`: a password hashing function based on the Blowfish cipher, 1999

`npm install bcrypt`
- `dotenv`: loads environment variables from a `.env` file

`npm install dotenv`
- `express`: a web application framework that provides features for applications

`npm install express`
- `express-async-handler`: middleware for handling exceptions inside of async express routes

`npm install express-async-handler`
- `jsonwebtoken`: an open standard to share security information between two parties, a client and server. A typical token will consist of a header, a payload and a signature.

`npm install jsonwebtoken`
- `mongodb`: document oriented data platform

`npm install mongodb`
> Once again replaceable and optional, we will be using MongoDB to store data in documents with data schemas. 

> Navigate to your browser, to the [MongoDB website](https://www.mongodb.com/ "MongoMongoMongoDBDBDB"), and sign up/log in. 

> We will use MongoDB to store our data, and the *MongoDB for VSCode* extension made by MongoDB. This is once again optional and not strictly necessary for the project. It can be replaced by another application with similar functionality. 
- `mongoose`: Object Data Modeling library for connecting MongoDB and Node.js

`npm install mongoose`


## Usage
To start up the node project, navigate to terminal and input the command:

`npm run dev`

This will start up your node project instance. 

We will be using the *Thunder Client* extension for VSCode made by Ranga Vadhineni. 
This extension is a lightweight REST API Client Extension for VSCode with simple and clean design. 
The Thunder Client extension allows us to send all different types of HTTP requests (such as GET, PUT, POST, DELETE), allowing for testing of API communication between our program and our database (in MongoDB). 

## Configuration
A `.env` file allows for setting environment variables that handle credentials in key-value format for the program. Here are a list of the environment variables that are set in my `.env` file:

`PORT`: the port on which the application will listen

`CONNECTION_STRING`: the URL of the MongoDB database

`ACCESS_TOKEN_SECRET`: Setting a 'secret' password string as an environment variable here allows for authentification on the client side (locally). 
> Note: Adding this access token in the `.env` file is **NOT** recommended for production level code!! Ensure that the `ACCESS_TOKEN_SECRET` environment variable is kept secret and not exposed in public repositories. 

## API Documentation
#### User
* Register a user
    * Endpoint: `POST /api/users/register`; allows users to register by providing a username, email, and password.
    * Request Body: 
        * `username` (string): The username of the user.
        * `email` (string): The email address of the user.
        * `password` (string): The password for the user.
    * Response:
        * `201 Created`: The user is successfully registered.
        * `400 Bad Request`: If any of the fields are missing or invalid or if the user already exists.
* Login user
    * Endpoint: `POST /api/users/login`; allows users to login by providing their email and password.
    * Request Body: 
        * `email` (string): The email address of the user.
        * `password` (string): The password for the user.
    * Response:
        * `200 OK`: If the user is successfully logged in, an access token is provided.
        * `400 Bad Request`: If any of the fields are missing.
        * `401 Unauthorized`: If the email or password is not valid.
* Current user information
    * Endpoint: `POST /api/users/current`; allows authenticated users to retrieve information about their own account.
    * Authorization: Requires a valid access token obtained during login.
    * Response:
        * `200 OK`: Returns information about the current user.
        * `401 Unauthorized`: If the access token is missing or invalid.
#### Contacts
* Get all contacts
    * Endpoint: `GET /api/contacts`; allows authenticated users to retrieve a list of all their contacts.
    * Authorization: Requires a valid access token.
    * Response:
        * `200 OK`: Returns a JSON array of contact objects.
        * `401 Unauthorized`: If the access token is missing or invalid.
* Create new contact
    * Endpoint: `POST /api/contacts`; allows authenticated users to create a new contact.
    * Authorization: Requires a valid access token.
    * Request Body:
        * `name` (string): The name of the contract.
        * `email` (string): The email address of the contact.
        * `phone` (string): The phone number of the contact.
    * Response:
        * `201 Created`: Returns the newly created contact object.
        * `400 Bad Request`: If any of the required fields are missing.
* Get contact
    * Endpoint: `GET /api/contacts/:id`; allows authenticated users to retrieve a contact by its ID.
    * Authorization: Requires a valid access token.
    * Response: 
        * `200 OK`: Returns the contact object.
        * `404 Not Found`: If provided ID do not match any contacts.
* Update contact
    * Endpoint: `PUT /api/contacts/:id`; allows authenticated users to update a contact's information.
    * Authorization: Requires a valid access token.
    * Request Body: (include only the fields that need to be updated; all optional but must have at least one)
        * `name` (string): The updated name of the contract.
        * `email` (string): The updated email address of the contact.
        * `phone` (string): The updated phone number of the contact.
    * Response:
        * `200 OK`: Returns the updated contact object.
        * `404 Not Found`: If contact with provided ID is not found.
        * `403 Forbidden`: If user does not have permission to update other users` contacts.
* Delete contact
    * Endpoint: `DELETE /api/contacts/:id`; allows authenticated users to delete a contact by its ID.
    * Authorization: Requires a valid access token.
    * Response: 
        * `200 OK`: Returns the deleted contact object.
        * `404 Not Found`: If contact with provided ID is not found.
        * `403 Forbidden`: If user does not have permission to delete other users` contacts.

## License
This project is licensed under the [MIT License](LICENSE).

## Authors
Sean Fujiwara :peach:

[Github](https://github.com/KokonutShons) :purple_heart:

## Acknowledgments
Mr. Dipesh Malvia for their tutorials.